"use strict";var videoContainers=document.querySelectorAll(".info-item"),wrapper=document.querySelector(".wrapper"),backLayer=document.querySelector(".back-layer");function transformation(e){if(!document.documentElement||!wrapper)return{translate:{x:0,y:0},scale:1};var t=document.documentElement,a=t.clientWidth,r=t.clientHeight,s=a/2,n=r/2,o=e.clientWidth,c=e.clientHeight;return{translate:{x:s-(o/2+e.offsetLeft),y:n-(c/2+e.offsetTop-wrapper.scrollTop)},scale:Math.min(a/o,r/c)}}function zoomVideo(e,t){var a=videoContainers[parseInt(e,10)-1];if(t.isActive){var r=transformation(a),s=r.translate,n=r.scale;a.style.transform="translate("+s.x+"px, "+s.y+"px) scale("+n+")",a.classList.add("active"),wrapper&&wrapper.classList.add("fullscreen"),backLayer&&backLayer.classList.add("active")}else a.style.transform="translate(0px, 0px) scale(1)",backLayer&&backLayer.classList.remove("active"),setTimeout(function(){a.classList.remove("active"),wrapper&&wrapper.classList.remove("fullscreen")},300)}videos.forEach(function(e){var t=e.dataset.videoNum;if(t){var a=function(e){var a=e[t];zoomVideo(t,a)};a(store.getState()),store.subscribe(a),e.addEventListener("mousedown",function(){store.dispatch({type:"CHANGE_ACTIVE",payload:{num:t}})})}});